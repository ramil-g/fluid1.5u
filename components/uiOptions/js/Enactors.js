var fluid_1_5=fluid_1_5||{};(function($,fluid){fluid.defaults("fluid.uiOptions.enactors",{gradeNames:["fluid.modelComponent","fluid.eventedComponent","fluid.uiOptions.modelRelay","autoInit"]});fluid.defaults("fluid.uiOptions.enactors.styleElements",{gradeNames:["fluid.uiOptions.enactors","autoInit"],cssClass:null,invokers:{applyStyle:{funcName:"fluid.uiOptions.enactors.styleElements.applyStyle",args:["{arguments}.0","{arguments}.1"]},resetStyle:{funcName:"fluid.uiOptions.enactors.styleElements.resetStyle",args:["{arguments}.0","{arguments}.1"]},handleStyle:{funcName:"fluid.uiOptions.enactors.styleElements.handleStyle",args:["{arguments}.0",{expander:{func:"{that}.getElements"}},"{that}"]},getElements:"fluid.uiOptions.enactors.getElements"},listeners:{onCreate:{listener:"{that}.handleStyle",args:["{that}.model.value"]}}});fluid.uiOptions.enactors.styleElements.applyStyle=function(elements,cssClass){elements.addClass(cssClass)};fluid.uiOptions.enactors.styleElements.resetStyle=function(elements,cssClass){$(elements,"."+cssClass).andSelf().removeClass(cssClass)};fluid.uiOptions.enactors.styleElements.handleStyle=function(value,elements,that){if(value){that.applyStyle(elements,that.options.cssClass)}else{that.resetStyle(elements,that.options.cssClass)}};fluid.uiOptions.enactors.styleElements.finalInit=function(that){that.applier.modelChanged.addListener("value",function(newModel){that.handleStyle(newModel.value)})};fluid.defaults("fluid.uiOptions.enactors.emphasizeLinks",{gradeNames:["fluid.viewComponent","fluid.uiOptions.enactors.styleElements","autoInit"],cssClass:null,invokers:{getElements:{funcName:"fluid.uiOptions.enactors.emphasizeLinks.getLinks",args:"{that}.container"}}});fluid.uiOptions.enactors.emphasizeLinks.getLinks=function(container){return $("a",container)};fluid.defaults("fluid.uiOptions.enactors.inputsLarger",{gradeNames:["fluid.viewComponent","fluid.uiOptions.enactors.styleElements","autoInit"],cssClass:null,invokers:{getElements:{funcName:"fluid.uiOptions.enactors.inputsLarger.getInputs",args:"{that}.container"}}});fluid.uiOptions.enactors.inputsLarger.getInputs=function(container){return $("input, button",container)};fluid.defaults("fluid.uiOptions.enactors.classSwapper",{gradeNames:["fluid.viewComponent","fluid.uiOptions.enactors","autoInit"],classes:{},invokers:{clearClasses:{funcName:"fluid.uiOptions.enactors.classSwapper.clearClasses",args:["{that}.container","{that}.classStr"]},swap:{funcName:"fluid.uiOptions.enactors.classSwapper.swap",args:["{arguments}.0","{that}"]}},listeners:{onCreate:{listener:"{that}.swap",args:["{that}.model.value"]}},members:{classStr:{expander:{func:"fluid.uiOptions.enactors.classSwapper.joinClassStr",args:"{that}.options.classes"}}}});fluid.uiOptions.enactors.classSwapper.clearClasses=function(container,classStr){container.removeClass(classStr)};fluid.uiOptions.enactors.classSwapper.swap=function(value,that){that.clearClasses();that.container.addClass(that.options.classes[value])};fluid.uiOptions.enactors.classSwapper.joinClassStr=function(classes){var classStr="";fluid.each(classes,function(oneClassName){if(oneClassName){classStr+=classStr?" "+oneClassName:oneClassName}});return classStr};fluid.uiOptions.enactors.classSwapper.finalInit=function(that){that.applier.modelChanged.addListener("value",function(newModel){that.swap(newModel.value)})};fluid.uiOptions.enactors.getTextSizeInPx=function(container,fontSizeMap){var fontSize=container.css("font-size");if(fontSizeMap[fontSize]){fontSize=fontSizeMap[fontSize]}return parseFloat(fontSize)};fluid.defaults("fluid.uiOptions.enactors.textSize",{gradeNames:["fluid.viewComponent","fluid.uiOptions.enactors","autoInit"],fontSizeMap:{},invokers:{set:{funcName:"fluid.uiOptions.enactors.textSize.set",args:["{arguments}.0","{that}"]},getTextSizeInPx:{funcName:"fluid.uiOptions.enactors.getTextSizeInPx",args:["{that}.container","{that}.options.fontSizeMap"]},getTextSizeInEm:{funcName:"fluid.uiOptions.enactors.textSize.getTextSizeInEm",args:[{expander:{func:"{that}.getTextSizeInPx"}},{expander:{func:"{that}.getPx2EmFactor"}}]},getPx2EmFactor:{funcName:"fluid.uiOptions.enactors.textSize.getPx2EmFactor",args:["{that}.container","{that}.options.fontSizeMap"]}},listeners:{onCreate:{listener:"{that}.set",args:"{that}.model.value"}}});fluid.uiOptions.enactors.textSize.set=function(times,that){if(!that.initialSize){that.initialSize=that.getTextSizeInEm()}if(that.initialSize){var targetSize=times*that.initialSize;that.container.css("font-size",targetSize+"em")}};fluid.uiOptions.enactors.textSize.getTextSizeInEm=function(textSizeInPx,px2emFactor){return Math.round(textSizeInPx/px2emFactor*10000)/10000};fluid.uiOptions.enactors.textSize.getPx2EmFactor=function(container,fontSizeMap){if(container.get(0).tagName!=="HTML"){container=container.parent()}return fluid.uiOptions.enactors.getTextSizeInPx(container,fontSizeMap)};fluid.uiOptions.enactors.textSize.finalInit=function(that){that.applier.modelChanged.addListener("value",function(newModel){that.set(newModel.value)})};fluid.defaults("fluid.uiOptions.enactors.lineSpace",{gradeNames:["fluid.viewComponent","fluid.uiOptions.enactors","autoInit"],fontSizeMap:{},invokers:{set:{funcName:"fluid.uiOptions.enactors.lineSpace.set",args:["{arguments}.0","{that}"]},getTextSizeInPx:{funcName:"fluid.uiOptions.enactors.getTextSizeInPx",args:["{that}.container","{that}.options.fontSizeMap"]},getLineHeight:{funcName:"fluid.uiOptions.enactors.lineSpace.getLineHeight",args:"{that}.container"},numerizeLineHeight:{funcName:"fluid.uiOptions.enactors.lineSpace.numerizeLineHeight",args:[{expander:{func:"{that}.getLineHeight"}},{expander:{func:"{that}.getTextSizeInPx"}}]}},listeners:{onCreate:{listener:"{that}.set",args:"{that}.model.value"}}});fluid.uiOptions.enactors.lineSpace.getLineHeight=function(container){var lineHeight;if(container[0].currentStyle){lineHeight=container[0].currentStyle.lineHeight}else{lineHeight=container.css("line-height")}return lineHeight};fluid.uiOptions.enactors.lineSpace.numerizeLineHeight=function(lineHeight,fontSize){if(!lineHeight){return 0}if(lineHeight==="normal"){return 1.2}if(lineHeight.match(/[0-9]$/)){return lineHeight}return Math.round(parseFloat(lineHeight)/fontSize*100)/100};fluid.uiOptions.enactors.lineSpace.set=function(times,that){if(!that.initialSize){that.initialSize=that.numerizeLineHeight()}if(that.initialSize){var targetLineSpace=times*that.initialSize;that.container.css("line-height",targetLineSpace)}};fluid.uiOptions.enactors.lineSpace.finalInit=function(that){that.applier.modelChanged.addListener("value",function(newModel){that.set(newModel.value)})};fluid.defaults("fluid.uiOptions.enactors.tableOfContents",{gradeNames:["fluid.viewComponent","fluid.uiOptions.enactors","autoInit"],tocTemplate:null,components:{tableOfContents:{type:"fluid.tableOfContents",container:"{fluid.uiOptions.enactors.tableOfContents}.container",createOnEvent:"onCreateTOCReady",options:{components:{levels:{type:"fluid.tableOfContents.levels",options:{resources:{template:{forceCache:true,url:"{fluid.uiOptions.enactors.tableOfContents}.options.tocTemplate"}}}}},listeners:{afterRender:"{fluid.uiOptions.enactors.tableOfContents}.events.afterTocRender"}}}},invokers:{applyToc:{funcName:"fluid.uiOptions.enactors.tableOfContents.applyToc",args:["{arguments}.0","{that}"]}},events:{onCreateTOCReady:null,afterTocRender:null,onLateRefreshRelay:null},listeners:{onCreate:{listener:"{that}.applyToc",args:"{that}.model.value"}}});fluid.uiOptions.enactors.tableOfContents.applyToc=function(value,that){var async=false;if(value){if(that.tableOfContents){that.tableOfContents.show()}else{that.events.onCreateTOCReady.fire();async=true}}else{if(that.tableOfContents){that.tableOfContents.hide()}}if(!async){that.events.onLateRefreshRelay.fire(that)}};fluid.uiOptions.enactors.tableOfContents.finalInit=function(that){that.applier.modelChanged.addListener("value",function(newModel){that.applyToc(newModel.value)})}})(jQuery,fluid_1_5);