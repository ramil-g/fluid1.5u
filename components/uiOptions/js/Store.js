var fluid_1_5=fluid_1_5||{};(function($,fluid){fluid.defaults("fluid.uiOptions.dataSource",{gradeNames:["fluid.littleComponent"],invokers:{get:"fluid.uiOptions.dataSource.get",set:"fluid.uiOptions.dataSource.set"}});fluid.defaults("fluid.cookieStore",{gradeNames:["fluid.uiOptions.dataSource","autoInit"],cookie:{name:"fluid-ui-settings",path:"/",expires:""}});fluid.demands("fluid.uiOptions.dataSource.get","fluid.cookieStore",{funcName:"fluid.cookieStore.get",args:"{that}.options.cookie.name"});fluid.demands("fluid.uiOptions.dataSource.set","fluid.cookieStore",{funcName:"fluid.cookieStore.set",args:["{arguments}.0","{that}.options.cookie"]});fluid.cookieStore.get=function(cookieName){var cookie=document.cookie;if(cookie.length<=0){return }var cookiePrefix=cookieName+"=";var startIndex=cookie.indexOf(cookiePrefix);if(startIndex<0){return }startIndex=startIndex+cookiePrefix.length;var endIndex=cookie.indexOf(";",startIndex);if(endIndex<startIndex){endIndex=cookie.length}var retObj=JSON.parse(decodeURIComponent(cookie.substring(startIndex,endIndex)));return retObj};fluid.cookieStore.assembleCookie=function(cookieOptions){var cookieStr=cookieOptions.name+"="+cookieOptions.data;if(cookieOptions.expires){cookieStr+="; expires="+cookieOptions.expires}if(cookieOptions.path){cookieStr+="; path="+cookieOptions.path}return cookieStr};fluid.cookieStore.set=function(settings,cookieOptions){cookieOptions.data=encodeURIComponent(JSON.stringify(settings));document.cookie=fluid.cookieStore.assembleCookie(cookieOptions)};fluid.defaults("fluid.tempStore",{gradeNames:["fluid.uiOptions.dataSource","fluid.modelComponent","autoInit"]});fluid.demands("fluid.uiOptions.dataSource.get","fluid.tempStore",{funcName:"fluid.identity",args:"{that}.model"});fluid.demands("fluid.uiOptions.dataSource.set","fluid.tempStore",{funcName:"fluid.tempStore.set",args:["{arguments}.0","{that}.applier"]});fluid.tempStore.set=function(settings,applier){applier.requestChange("",settings)};fluid.defaults("fluid.globalSettingsStore",{gradeNames:["autoInit","fluid.littleComponent"],components:{settingsStore:{type:"fluid.uiOptions.store"}}});fluid.globalSettingsStore.finalInit=function(that){fluid.staticEnvironment.settingsStore=that.settingsStore};fluid.demands("fluid.uiOptions.store",["fluid.globalSettingsStore"],{funcName:"fluid.cookieStore"})})(jQuery,fluid_1_5);